# Title: LAT Queue - Surface LRT records needing LAT parsing

**Started**: 2026-02-23

## Todo
- [x] Explore existing LAT/LRT schema and relationships
- [x] Build backend query: LRT with 'making' role + no LAT record
- [x] Build backend query: LRT where updated_at > LAT updated_at + 6 months
- [x] Add API endpoint for queue with batching (oldest first)
- [x] Add frontend route `/admin/lat/queue` with table UI
- [x] Commit and push (`51ab499`)
- [x] Integrate svelte-table-kit for sort/filter/group (`c495210`)

## Notes
- Two gap types: missing LAT (is_making=true, zero LAT rows), stale LAT (LRT updated_at > LAT updated_at + 6mo)
- Batch by oldest first, 50 per page with prev/next pagination
- Route: `/admin/lat/queue`, API: `GET /api/lat/queue?reason=missing|stale&limit=&offset=`
- Stats bar with clickable cards doubles as filter (Total / Missing / Stale)
- Re-parse button per row reuses existing `useReparseMutation`, invalidates queue queries on success
- Backend uses separate SQL variants per filter (matches existing `LatAdminController` pattern)

## Files changed
- `backend/lib/sertantai_legal_web/controllers/lat_admin_controller.ex` — queue/2 action + SQL
- `backend/lib/sertantai_legal_web/router.ex` — GET /lat/queue route
- `frontend/src/lib/api/lat.ts` — QueueItem/QueueResponse types, getLatQueue()
- `frontend/src/lib/query/lat.ts` — useLatQueueQuery hook, reparse invalidation
- `frontend/src/routes/admin/lat/queue/+page.svelte` — new page
- `frontend/src/routes/admin/+layout.svelte` — nav item added

**Ended**: 2026-02-23
