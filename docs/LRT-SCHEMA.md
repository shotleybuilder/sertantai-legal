# UK Legal Register Table (LRT) Schema

  **Version**: 1.0
  **Last Updated**: 2026-01-30
  
  > **Issue #14 (Phase 4)**: Consolidated 16 holder text columns into 4 JSONB columns with 93% storage reduction.
  
  The `uk_lrt` table stores metadata for UK legislation including acts, statutory instruments, and regulations. This is shared reference data accessible to all tenants.

---

## Parse Stage Reference

  Each field is classified by its source/parse stage:
  
  | Stage | Description |
  |-------|-------------|
  | `input` | Provided at record creation (from scrape list) |
  | `ğŸ’  metadata` | Stage 1: Basic metadata from introduction XML |
  | `ğŸ“ extent` | Stage 2: Geographic extent from contents XML |
  | `ğŸš€ enacted_by` | Stage 3: Enacting parent laws from made XML |
  | `ğŸ”„ amendments` | Stage 4: Amendment relationships and statistics |
  | `ğŸš«_repeal_revoke` | Stage 5: Revocation status from resources XML |
  | `ğŸ¦‹_taxa` | Stage 6: Actor, duty type, POPIMAR classification |
  | `ğŸ§®_derived` | Computed from other fields post-parse |
  | `ğŸ¤– system` | Auto-generated by database/application |

---

## Field Categories

  1. [Credentials](#credentials) - Core identifiers (name, title, year, number, type)
  2. [Description](#description) - Classification (family, si_code, tags, subjects)
  3. [Status](#status) - Enforcement state
  4. [Geographic Extent](#geographic-extent) - Territorial scope
  5. [Metadata](#metadata) - Dates and document statistics
  6. [Function](#function) - Relationships and amendment tracking
  7. [Taxa](#taxa) - Role and holder classifications (DRRP model)
  8. [Stats](#stats) - Amendment statistics
  9. [External](#external) - URLs and references
  10. [Timestamps](#timestamps) - Record tracking

---

# STAGE 1 ğŸ’  metadata

  ## Credentials
  
    **Note:** `leg_gov_uk_url` is a PostgreSQL generated column computed from `type_code`, `year`, and `number`.
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `id` | ID | - | `uuid` | Yes | `550e8400-e29b-41d4-a716-446655440000` | system |
    | `name` | Name | `name` | `string` | Yes (19090) | `UK_nisro_1926_51` | input |
    | `type_code` | Type Code | `type_code` | `string` | Yes (14166) | `nisro` | input |
    | `year` | Year | `year` | `integer` | Yes (19090) | `1926` | input |
    | `number` | Number | `number` | `string` | Yes (19089) | `51` | input |
    | `old_style_number` | Old Style Number | `old_style_number` | `string` | Yes (99) | `Eliz2/10-11/19` | input |
    | `title_en` | Title | `title_en` | `string` | Yes (14705) | `Wild Birds Protection Order (Northern Ireland)` | ğŸ’  metadata |
    | `acronym` | Acronym | `acronym` | `string` | Yes (190) | `TSACNR` | ğŸ§®_derived <- ğŸ’  metadata[title_en] |
    | `leg_gov_uk_url` | legislation.gov.uk URL | - | `string` (generated) | Yes (14165) | `https://www.legislation.gov.uk/uksi/2024/123` | ğŸ§®_derived <- ğŸ’  metadata[type_code,year,number,old_style_number] |
    | `type_desc` | Type Description | `type_desc` | `string` | Yes (18562) | `Northern Ireland Statutory Rule or Order` | ğŸ§®_derived <- input[type_code] |
    | `type_class` | Type Class | `type_class` | `string` | Yes (1995) | `Secondary` | ğŸ§®_derived <- input[type_code] |
    | `domain` | Domain | `domain` | `text[]` | Yes (9247) | `{environment}`, `{health_safety}` | ğŸ§®_derived <- ğŸ’  metadata |
    | `number_int` | Number (Sortable) | - | `integer` (generated) | Yes (19088) | `1031` | ğŸ§®_derived <- input[number] |
  
  ---
  
  ## Description
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `family` | Family | `family` | `string` | Yes (13094) | `ğŸ’š WILDLIFE & COUNTRYSIDE` | ğŸ§®_derived <- ğŸ’  metadata |
    | `family_ii` | Sub-Family | `family_ii` | `string` | Yes (1408) | | ğŸ§®_derived <- ğŸ’  metadata |
    | `si_code` | SI Codes | `si_code` | `map` (JSONB) | Yes (16986) | `{"values": ["INFRASTRUCTURE PLANNING"]}` | ğŸ’  metadata |
    | `tags` | Tags | `tags` | `text[]` | Yes (17466) | `{Environmental,Noise,Regulations,Scotland}` | ğŸ§®_derived <- ğŸ’  metadata |
    | `md_description` | Description | `md_description` | `string` | Yes (16277) | | ğŸ’  metadata |
    | `md_subjects` | Subjects | `md_subjects` | `map` (JSONB) | Yes (7896) | `{"values": ["food safety", "food hygiene"]}` | ğŸ’  metadata |
  
  ---
  
  ## Dates
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `md_date` | Primary Date | `md_date` | `date` | Yes (13610) | `2024-01-15` | ğŸ’  metadata |
    | `md_made_date` | Made Date | `md_made_date` | `date` | Yes (14565) | `2024-01-10` | ğŸ’  metadata |
    | `md_enactment_date` | Enacted Date | `md_enactment_date` | `date` | Yes (1581) | `2020-11-23` | ğŸ’  metadata |
    | `md_coming_into_force_date` | In Force Date | `md_coming_into_force_date` | `date` | Yes (11750) | `2024-02-01` | ğŸ’  metadata |
    | `md_dct_valid_date` | DCT Valid Date | `md_dct_valid_date` | `date` | Yes (7538) | `2024-06-30` | ğŸ’  metadata |
    | `md_modified` | Modified Date | `md_modified` | `date` | Yes (17858) | `2024-06-01` | ğŸ’  metadata |
    | `md_restrict_start_date` | Restriction Start | `md_restrict_start_date` | `date` | Yes (6287) | `2020-12-31` | ğŸ’  metadata |
    | `md_restrict_extent` | Restriction Extent | `md_restrict_extent` | `string` | Yes (6098) | | ğŸ’  metadata |
  
  ---
  
  ## Document Statistics
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `md_total_paras` | Total Paragraphs | `md_total_paras` | `integer` | Yes (17257) | `150` | ğŸ’  metadata |
    | `md_body_paras` | Body Paragraphs | `md_body_paras` | `integer` | Yes (14197) | `120` | ğŸ’  metadata |
    | `md_schedule_paras` | Schedule Paragraphs | `md_schedule_paras` | `integer` | Yes (17256) | `30` | ğŸ’  metadata |
    | `md_attachment_paras` | Attachment Paragraphs | `md_attachment_paras` | `integer` | Yes (17256) | `0` | ğŸ’  metadata |
    | `md_images` | Images | `md_images` | `integer` | Yes (17256) | `0` | ğŸ’  metadata |

---

# STAGE 2 ğŸ“ geographic extent
  
  | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
  |--------|---------------|---------------|------|:--------:|---------|-------|
  | `geo_extent` | Geographic Extent | `geo_extent` | `string` | Yes (13730) | `E+W+S+NI` | ğŸ“ extent |
  | `geo_region` | Region | `geo_region` | `text[]` | Yes (13738) | `{England,Wales,Scotland,"Northern Ireland"}` | ğŸ“ extent |
  | `geo_detail` | Detail | `geo_detail` | `string` | Yes (13695) | `ğŸ‡¬ğŸ‡§ E+W+S+NI\nAll provisions` | ğŸ“ extent |

---

# STAGE 3 ğŸš€ enacted_by

  Enacting <> Enacted_By

  **enacting** may be a duplicate of **is_enacting**.
  
  | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
  |--------|---------------|---------------|------|:--------:|---------|-------|
  | `enacted_by` | Enacted By | `enacted_by` | `text[]` | Yes (8380) | `{ukpga/2000/5}` | enacted_by |
  | `enacted_by_meta` | Enacted By (Meta) | `enacted_by_meta` | `map[]` (JSONB) | No | `[{"name": "UK_ukpga_2008_29", "uri": "http://..."}]` | enacted_by |
  | `is_enacting` | Is Enacting | `is_enacting` | `boolean` | Yes (686) | `false` | ğŸ§®_derived <- ğŸš€ enacted_by |
  | `enacting` | Enacts | `enacting` | `text[]` | Yes (686) | | ğŸ§®_derived <- ğŸš€ enacted_by |
  | `linked_enacted_by` | Linked Enacted By | `linked_enacted_by` | `text[]` | Yes (7839) | `{UK_ukpga_1972_68}` | ğŸ§®_derived <- ğŸš€ enacted_by ğŸ”— |

---

# STAGE 4 ğŸ”„ amendments

  ## Function
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `function` | Function | `function` | `map` (JSONB) | Yes (12858) | `{"Making": true, "Amending Maker": true}` | ğŸ§®_derived |
    | `is_making` | Is Making | `is_making` | `boolean` | Yes (19089) | `true` | ğŸ§®_derived |
    | `is_commencing` | Is Commencing | `is_commencing` | `boolean` | Yes (19089) | `false` | ğŸ§®_derived |
  
  ## Self-Affects
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `ğŸ”ºğŸ”»_stats_self_affects_count` | Self Amendments | `stats_self_affects_count` | `integer` | Yes (15042) | | ğŸ”„ amendments |
    | `ğŸ”ºğŸ”»_stats_self_affects_count_per_law_detailed` | Self Affects (Detail) | `stats_self_affects_count_per_law_detailed` | `string` | Yes | `235 self-amendments\n art. 1 coming into force [Yes]...` | ğŸ”„ amendments |
  
  ## Amending (this law affects others)
  
    This is unlikely to change over time **static**.  Once parsed it does not need reparsing.
    
    The ğŸ”º signifies this law at the top of the 'pyramid' (point) amending parts or all of the laws at the bottom (base).
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `is_amending` | Is Amending | `is_amending` | `boolean` | Yes (9866) | `true` | ğŸ§®_derived <- ğŸ”„ amendments |
    | `ğŸ”º_stats_affects_count` | Affects Count | `amending_stats_affects_count` | `integer` | Yes (15042) | `2` | ğŸ”„ amendments |
    | `ğŸ”º_stats_affected_laws_count` | Affected Laws Count | `amending_stats_affected_laws_count` | `integer` | Yes (15042) | `2` | ğŸ”„ amendments |
    | `ğŸ”º_affects_stats_per_law` | **Affects Stats Per Law** | `affects_stats_per_law` | `map` (JSONB) | Yes (9079) | See below | ğŸ”„ amendments |
    | `ğŸ”º_stats_affects_count_per_law` | Affects Per Law (Legacy) | `amending_stats_affects_count_per_law` | `string` | Yes (9078) | | ğŸ”„ amendments âš ï¸ |
    | `ğŸ”º_stats_affects_count_per_law_detailed` | Affects Per Law Detail (Legacy) | `amending_stats_affects_count_per_law_detailed` | `string` | Yes (9077) | | ğŸ”„ amendments âš ï¸ |
    | `amending` | Amends | `amending` | `text[]` | Yes (9866) | `{UK_ukpga_2000_5,UK_ukpga_1978_25}` | ğŸ”„ amendments |
    | `linked_amending` | Linked Amends | `linked_amending` | `text[]` | Yes (9673) | `{UK_uksi_2024_436,UK_ukpga_2021_30}` | ğŸ§®_derived <- ğŸ”„ amendments |
    
    **âš ï¸ Legacy fields**: `_stats_affects_count_per_law` and `_detailed` are deprecated. Use `ğŸ”º_affects_stats_per_law` instead.
  
  ## Rescinding (this law rescinds others)
  
    This is unlikely to change over time **static**.  Once parsed it does not need reparsing.
    
    The ğŸ”º signifies this law at the top of the 'pyramid' (point) rescinding parts or all of the laws at the bottom (base).
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `is_rescinding` | Is Rescinding | `is_rescinding` | `boolean` | Yes (2462) | `false` | ğŸ§®_derived <- ğŸ”„ amendments |
    | `ğŸ”º_stats_rescinding_laws_count` | Rescinded Laws Count | `rescinding_stats_rescinding_laws_count` | `integer` | Yes (14979) | | ğŸ”„ amendments |
    | `ğŸ”º_rescinding_stats_per_law` | **Rescinding Stats Per Law** | `rescinding_stats_per_law` | `map` (JSONB) | Yes (2481) | See below | ğŸ”„ amendments |
    | `ğŸ”º_stats_rescinding_count_per_law` | Rescinding Per Law (Legacy) | `rescinding_stats_rescinding_count_per_law` | `string` | Yes (2479) | | ğŸ”„ amendments âš ï¸ |
    | `ğŸ”º_stats_rescinding_count_per_law_detailed` | Rescinding Per Law Detail (Legacy) | `rescinding_stats_rescinding_count_per_law_detailed` | `string` | Yes (2479) | | ğŸ”„ amendments âš ï¸ |
    | `rescinding` | Rescinds | `rescinding` | `text[]` | Yes (2458) | | ğŸ”„ amendments |
    | `linked_rescinding` | Linked Rescinds | `linked_rescinding` | `text[]` | Yes (2014) | `{UK_uksi_2002_119}` | ğŸ§®_derived <- ğŸ”„ amendments |
    
    **âš ï¸ Legacy fields**: `_stats_rescinding_count_per_law` and `_detailed` are deprecated. Use `ğŸ”º_rescinding_stats_per_law` instead.
    
  ## Amended By (this law is affected by others)
  
    This can change over time **dynamic**.  As new laws are passed, this value will increase.
    
    **latest_amend_date** and **latest_change_date** could be duplicates or **latest_change_date** could include rescindings.
    
    The ğŸ”» signifies many laws at the top of the 'spinning-top' amending parts of this law at the bottom (point).
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `ğŸ”»_stats_affected_by_count` | Affected By Count | `amended_by_stats_affected_by_count` | `integer` | Yes (16757) | | ğŸ”„ amendments |
    | `ğŸ”»_stats_affected_by_laws_count` | Amending Laws Count | `amended_by_stats_affected_by_laws_count` | `integer` | Yes (16751) | | ğŸ”„ amendments |
    | `ğŸ”»_affected_by_stats_per_law` | **Affected By Stats Per Law** | `affected_by_stats_per_law` | `map` (JSONB) | Yes (6243) | See below | ğŸ”„ amendments |
    | `ğŸ”»_stats_affected_by_count_per_law` | Affected By Per Law (Legacy) | `amended_by_stats_affected_by_count_per_law` | `string` | Yes (7964) | | ğŸ”„ amendments âš ï¸ |
    | `ğŸ”»_stats_affected_by_count_per_law_detailed` | Affected By Per Law Detail (Legacy) | `amended_by_stats_affected_by_count_per_law_detailed` | `string` | Yes (6242) | | ğŸ”„ amendments âš ï¸ |
    | `amended_by` | Amended By | `amended_by` | `text[]` | Yes (6338) | | ğŸ”„ amendments |
    | `linked_amended_by` | Linked Amended By | `linked_amended_by` | `text[]` | Yes (6180) | `{UK_uksi_2023_381}` | ğŸ§®_derived |
    | `latest_amend_date` | Latest Amendment | `latest_amend_date` | `date` | Yes (5512) | | ğŸ§®_derived <- ğŸ”„ amendments |
    | `latest_change_date` | Latest Change | `latest_change_date` | `date` | No | | ğŸ§®_derived |
    
    **âš ï¸ Legacy fields**: `_stats_affected_by_count_per_law` and `_detailed` are deprecated. Use `ğŸ”»_affected_by_stats_per_law` instead.
  
  ## Rescinded By (this law is rescinded by others)
  
    The ğŸ”» signifies many laws at the top of the 'spinning-top' rescinding parts or all of this law at the bottom (point).
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `ğŸ”»_stats_rescinded_by_laws_count` | Rescinding Laws Count | `rescinded_by_stats_rescinded_by_laws_count` | `integer` | Yes (14939) | | ğŸ”„ amendments |
    | `ğŸ”»_rescinded_by_stats_per_law` | **Rescinded By Stats Per Law** | `rescinded_by_stats_per_law` | `map` (JSONB) | Yes (5714) | See below | ğŸ”„ amendments |
    | `ğŸ”»_stats_rescinded_by_count_per_law` | Rescinded By Per Law (Legacy) | `rescinded_by_stats_rescinded_by_count_per_law` | `string` | Yes (5714) | | ğŸ”„ amendments âš ï¸ |
    | `ğŸ”»_stats_rescinded_by_count_per_law_detailed` | Rescinded By Per Law Detail (Legacy) | `rescinded_by_stats_rescinded_by_count_per_law_detailed` | `string` | Yes (5714) | | ğŸ”„ amendments âš ï¸ |
    | `rescinded_by` | Rescinded By | `rescinded_by` | `text[]` | Yes (5789) | | ğŸ”„ amendments |
    | `linked_rescinded_by` | Linked Rescinded By | `linked_rescinded_by` | `text[]` | Yes (5600) | `{UK_uksi_2015_1640}` | ğŸ§®_derived |
    | `latest_rescind_date` | Latest Rescind | `latest_rescind_date` | `date` | Yes (4379) | | ğŸ§®_derived <- ğŸš«_repeal_revoke |
    
    **âš ï¸ Legacy fields**: `_stats_rescinded_by_count_per_law` and `_detailed` are deprecated. Use `ğŸ”»_rescinded_by_stats_per_law` instead.

  ## Consolidated Stats JSONB Structure
  
    The four `*_stats_per_law` fields share the same JSONB structure, keyed by law name:
    
    ```json
    {
      "UK_uksi_2023_1071": {
        "name": "UK_uksi_2023_1071",
        "title": "The Health and Care Act 2022 (Further Consequential Amendments) Regulations 2023",
        "url": "https://legislation.gov.uk/id/uksi/2023/1071",
        "count": 4,
        "details": [
          { "target": "reg. 1(2)(d)", "affect": "words omitted", "applied": "Not yet" },
          { "target": "reg. 1(2)(e)", "affect": "word omitted", "applied": "Not yet" },
          { "target": "reg. 1(2)(ea)", "affect": "inserted", "applied": "Not yet" },
          { "target": "blanket amendment", "affect": "words substituted", "applied": "Not yet" }
        ]
      },
      "UK_uksi_2020_240": {
        "name": "UK_uksi_2020_240",
        "title": "The Statutory Parental Bereavement Pay Regulations 2020",
        "url": "https://legislation.gov.uk/id/uksi/2020/240",
        "count": 1,
        "details": [
          { "target": "reg. 1(2)", "affect": "words substituted", "applied": "Not yet" }
        ]
      }
    }
    ```
    
    | Field | Type | Description |
    |-------|------|-------------|
    | `name` | string | Law identifier (e.g., `UK_uksi_2023_1071`) |
    | `title` | string | Full title of the law |
    | `url` | string | Link to legislation.gov.uk |
    | `count` | integer | Number of amendments/changes |
    | `details` | array | Individual change entries |
    | `details[].target` | string | Article/regulation affected (e.g., `reg. 1(2)`) |
    | `details[].affect` | string | Type of change (e.g., `words substituted`, `inserted`) |
    | `details[].applied` | string | Application status (`Yes`, `Not yet`, `In part`) |

---

# STAGE 5 ğŸš«_repeal_revoke

  ## Status
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `live` | Status | `live` | `string` | Yes (16845) | `âœ” In force` | ğŸš«_repeal_revoke |
    | `live_description` | Status Description | `live_description` | `string` | Yes (686) | `Current legislation` | ğŸš«_repeal_revoke |
  
  ## Reconciliation
  
    Live status can be derived from two sources that may conflict:
    1. **Changes endpoint** (`/changes/affected`) - from Stage 4b amended_by parsing
    2. **Metadata endpoint** (`/resources/data.xml`) - from Stage 5 repeal_revoke parsing
    
    When sources disagree, the "Most Severe Wins" strategy is applied:
    - Severity ranking: `revoked (3) > partial (2) > in_force (1)`
    - If either source indicates revocation, the law is considered revoked
    - Conflicts are logged for later analysis
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `live_source` | Status Source | `live_source` | `string` | No | `metadata`, `changes`, `both` | ğŸš«_repeal_revoke |
    | `live_conflict` | Status Conflict | `live_conflict` | `boolean` | No | `true` | ğŸš«_repeal_revoke |
    | `live_from_changes` | Status (Changes) | `live_from_changes` | `string` | No | `âœ” In force` | ğŸ”„ amendments (4b) |
    | `live_from_metadata` | Status (Metadata) | `live_from_metadata` | `string` | No | `âŒ Revoked / Repealed / Abolished` | ğŸš«_repeal_revoke |
    | `live_conflict_detail` | Conflict Detail | `live_conflict_detail` | `map` (JSONB) | No | `{"reason": "...", "winner": "metadata", ...}` | ğŸš«_repeal_revoke |
    
    **Conflict Detail Structure:**
    ```json
    {
      "reason": "Metadata shows revoked but changes history shows in force",
      "winner": "metadata",
      "changes_severity": 1,
      "metadata_severity": 3
    }
    ```

---

# STAGE 6 ğŸ¦‹_taxa

  ## Purpose
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `purpose` | Purpose | `purpose` | `map` (JSONB) | No | | ğŸ¦‹_taxa |
    
  ## Roles
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `role` | Role | `role` | `text[]` | Yes (4986) | | ğŸ¦‹_taxa |
    | `article_role` | Article Role | `article_role` | `string` | Yes (4986) | | ğŸ¦‹_taxa |
    | `role_article` | Role Article | `role_article` | `string` | Yes (4986) | | ğŸ¦‹_taxa |
    | `role_gvt` | Role Gvt | `role_gvt` | `map` (JSONB) | Yes (4974) | `{"Gvt: Minister": true, "Gvt: Authority": true}` | ğŸ¦‹_taxa |
    | `role_gvt_article` | Role Gvt Article | `role_gvt_article` | `string` | Yes (4974) | | ğŸ¦‹_taxa |
    | `article_role_gvt` | Article Role Gvt | `article_role_gvt` | `string` | Yes (4974) | | ğŸ¦‹_taxa |
  
  ## Duty Type
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `duty_type` | Duty Type | `duty_type` | `map` (JSONB) | Yes (7775) | `{"values": ["Duty", "Responsibility", "Power", ...]}` | ğŸ¦‹_taxa |
    | `duty_type_article` | Duty Type Article | `duty_type_article` | `string` | Yes (7775) | | ğŸ¦‹_taxa |
    | `article_duty_type` | Article Duty Type | `article_duty_type` | `string` | Yes (7775) | | ğŸ¦‹_taxa |
  
  ## Holders (Legacy - for reference only)
  
    These simple JSONB maps indicate which holder types are present. The detailed data is in the consolidated JSONB fields below.
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `duty_holder` | Duty Holder | `duty_holder` | `map` (JSONB) | Yes (2450) | `{"Public": true, "Ind: Person": true}` | ğŸ¦‹_taxa |
    | `rights_holder` | Rights Holder | `rights_holder` | `map` (JSONB) | Yes (1812) | `{"Ind: Person": true}` | ğŸ¦‹_taxa |
    | `responsibility_holder` | Responsibility Holder | `responsibility_holder` | `map` (JSONB) | Yes (2513) | `{"Gvt: Minister": true}` | ğŸ¦‹_taxa |
    | `power_holder` | Power Holder | `power_holder` | `map` (JSONB) | Yes (2121) | `{"Gvt: Authority": true}` | ğŸ¦‹_taxa |
  
  ## Consolidated Holder JSONB (Phase 4)
  
    These 4 JSONB columns replace the previous 16 text columns, providing structured holder/article/clause data with 93% storage reduction.
    
    **Schema**: `{entries: [{holder, duty_type, clause, article}], holders: [], articles: []}`
    
    **GIN Indexes**: Each column has a GIN index on the `holders` array for efficient querying.
    
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `duties` | Duties | `duties` | `map` (JSONB) | Yes (2430) | `{"entries": [...], "holders": ["Ind: Person"], "articles": ["regulation/4"]}` | ğŸ¦‹_taxa |
    | `rights` | Rights | `rights` | `map` (JSONB) | Yes (1812) | `{"entries": [...], "holders": [...], "articles": [...]}` | ğŸ¦‹_taxa |
    | `responsibilities` | Responsibilities | `responsibilities` | `map` (JSONB) | Yes (2513) | `{"entries": [...], "holders": [...], "articles": [...]}` | ğŸ¦‹_taxa |
    | `powers` | Powers | `powers` | `map` (JSONB) | Yes (2121) | `{"entries": [...], "holders": [...], "articles": [...]}` | ğŸ¦‹_taxa |
    
    **Entry Structure**:
    ```json
    {
      "holder": "Ind: Person",
      "duty_type": "DUTY",
      "clause": "applicant as two or more farming businesses...",
      "article": "regulation/4"
    }
    ```
  
  ## POPIMAR
  
    | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
    |--------|---------------|---------------|------|:--------:|---------|-------|
    | `popimar` | POPIMAR | `popimar` | `map` (JSONB) | Yes (4707) | `{"Policy": true, "Risk Control": true, ...}` | ğŸ¦‹_taxa |
    | `popimar_details` | POPIMAR Details | `popimar_details` | `map` (JSONB) | Yes (4707) | `{"entries": [...], "categories": [...], "articles": [...]}` | ğŸ¦‹_taxa |
    
    **Entry Structure** (Issue #15 - consolidated from 4 deprecated text columns):
    ```json
    {
      "entries": [
        {"category": "Risk Control", "article": "regulation/4"},
        {"category": "Records", "article": "regulation/5"}
      ],
      "categories": ["Records", "Risk Control"],
      "articles": ["regulation/4", "regulation/5"]
    }
    ```
    
    **Deprecated columns** (removed in Phase 4 Issue #15):
    - `popimar_article` - consolidated into `popimar_details`
    - `popimar_article_clause` - consolidated into `popimar_details`
    - `article_popimar` - consolidated into `popimar_details`
    - `article_popimar_clause` - consolidated into `popimar_details`

---

## Change Logs

  | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
  |--------|---------------|---------------|------|:--------:|---------|-------|
  | `amending_change_log` | Amending Change Log | `amending_change_log` | `string` | Yes (287) | | system |
  | `amended_by_change_log` | Amended By Change Log | `amended_by_change_log` | `string` | Yes (302) | | system |
  | `record_change_log` | Record Change Log | `record_change_log` | `map[]` (JSONB) | Yes (473) | | system |

---

## Timestamps

  | Column | Friendly Name | ParsedLaw Key | Type | Has Data | Example | Stage |
  |--------|---------------|---------------|------|:--------:|---------|-------|
  | `created_at` | Created At | - | `utc_datetime` | Yes | `2024-01-15T10:30:00Z` | system |
  | `updated_at` | Updated At | - | `utc_datetime` | Yes | `2024-06-01T14:22:00Z` | system |

---

# NOTES

  ## Data Population Key
  
    | Has Data | Meaning |
    |----------|---------|
    | **Yes (N)** | Column has N records with data (migrated from Airtable) |
    | **Minimal (N)** | Column has few records (N < 10), likely from recent parsing |
    | **No** | Column is empty (new or not yet populated) |
    | **?** | Not checked |

  ## Linked (Graph Edges) 'linked_xxxx'

    These columns contain **resolved** self-referential links to other `uk_lrt` records. They enable navigation between related laws. Only references that exist in the database are included.
  
---

## Related Documents

- [Family Values](./FAMILY_VALUES.md) - Valid family classifications
- [Function Values](./FUNCTION_VALUES.md) - Making, Amending, Revoking, Commencing, Enacting
