# ==============================================================================
# DEVELOPMENT ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and update values for local development
# DO NOT commit .env file (it's in .gitignore)

# ==============================================================================
# Database Configuration
# ==============================================================================
# For development: Connect to local PostgreSQL via Docker
# For production: Use DATABASE_URL provided by infrastructure (host: postgres)
DATABASE_URL=postgresql://postgres:postgres@localhost:5436/sertantai_legal_dev
ELECTRIC_DATABASE_URL=postgresql://postgres:postgres@localhost:5436/sertantai_legal_electric

# ==============================================================================
# Phoenix Configuration
# ==============================================================================
# Generate SECRET_KEY_BASE with: mix phx.gen.secret
SECRET_KEY_BASE=<generate-with-mix-phx.gen.secret>

# Development: localhost
# Production: Your API domain (e.g., api.yourdomain.com)
PHX_HOST=localhost

# Port (Docker health check expects 4000)
PORT=4000

# Database pool size (increase for production)
POOL_SIZE=10

# ==============================================================================
# CORS Configuration
# ==============================================================================
# Development: Local SvelteKit dev server
# Production: Your frontend domain
FRONTEND_URL=http://localhost:5173

# ==============================================================================
# ElectricSQL Configuration
# ==============================================================================
# Development: Local Electric via Docker
# Production: Your Electric domain provided by infrastructure
ELECTRIC_URL=http://localhost:3000
ELECTRIC_PROXY_URL=http://localhost:3000
ELECTRIC_WRITE_TO_PG_MODE=direct_writes

# ==============================================================================
# Authentication (Microservices)
# ==============================================================================
# CRITICAL: This must match across all services for JWT validation
# Shared secret from sertantai-auth for validating JWTs
SHARED_TOKEN_SECRET=<same-secret-as-sertantai-auth>

# ==============================================================================
# AI Service (LAN)
# ==============================================================================
# API key for machine-to-machine AI service endpoints (X-API-Key header)
AI_SERVICE_API_KEY=<generate-a-secret-key>

# ==============================================================================
# Environment
# ==============================================================================
MIX_ENV=dev

# ==============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# ==============================================================================
# These should be set in your infrastructure/deployment environment
# DO NOT use development values in production!
#
# DATABASE_URL=postgresql://postgres:password@postgres:5432/sertantai_legal_prod
# SECRET_KEY_BASE=<64+ character production secret>
# PHX_HOST=legal-api.sertantai.com
# FRONTEND_URL=https://legal.sertantai.com
# ELECTRIC_URL=https://legal-electric.sertantai.com
# SHARED_TOKEN_SECRET=<production-shared-secret>
# POOL_SIZE=20
# MIX_ENV=prod
